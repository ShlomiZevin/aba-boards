<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ±Ø§Ù† Ù„Ù„Ù†Ø¸Ø§Ù…</title>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #5BA3E0 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #5BA3E0;
            text-align: center;
        }
        .kid-info {
            background: #f0f7ff;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
        }
        .kid-info h3 {
            margin-top: 0;
            color: #5BA3E0;
        }
        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #d5e5f5;
        }
        .info-row:last-child {
            border-bottom: none;
        }
        .tasks-list, .rewards-list {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .tasks-list h4, .rewards-list h4 {
            margin-top: 0;
            color: #667eea;
        }
        .task-item, .reward-item {
            padding: 8px 12px;
            background: white;
            margin: 8px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #5BA3E0 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            cursor: pointer;
            margin: 10px 0;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        button.secondary {
            background: #6c757d;
        }
        #status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .behavior-goals {
            background: #fff3cd;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .behavior-goals h4 {
            margin-top: 0;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’™ Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ±Ø§Ù† Ù„Ù„Ù†Ø¸Ø§Ù… ğŸ’™</h1>

        <div class="kid-info">
            <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·ÙÙ„</h3>
            <div class="info-row"><span>Ø§Ù„Ø§Ø³Ù…:</span><span>Ù…ÙŠØ±Ø§Ù†</span></div>
            <div class="info-row"><span>Ø§Ù„Ø¹Ù…Ø±:</span><span>3</span></div>
            <div class="info-row"><span>Ø§Ù„Ø¬Ù†Ø³:</span><span>ÙˆÙ„Ø¯</span></div>
            <div class="info-row"><span>Ø§Ù„Ø£Ù„ÙˆØ§Ù†:</span><span>Ø£Ø²Ø±Ù‚</span></div>
            <div class="info-row"><span>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„Ø©:</span><span>Ù†Ù‚Ø§Ø·</span></div>
            <div class="info-row"><span>Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©:</span><span>0.5 Ù†Ù‚Ø·Ø©</span></div>
            <div class="info-row"><span>Ø¯ÙŠÙ†Ùˆ:</span><span>âœ… Ù†Ø¹Ù… (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)</span></div>
            <div class="info-row"><span>Ø§Ù„Ø£ØµÙˆØ§Øª:</span><span>âœ… Ù†Ø¹Ù…</span></div>
        </div>

        <div class="behavior-goals">
            <h4>ğŸ¯ Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø³Ù„ÙˆÙƒÙŠØ©</h4>
            <p>ØªØ­Ø³ÙŠÙ† Ø§Ù„ØµØ¨Ø±ØŒ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ù…ØŒ Ø§Ù„Ù…Ø«Ø§Ø¨Ø±Ø©ØŒ Ø§Ù„ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¹Ø§Ø·ÙÙŠØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ù„ÙˆÙƒ Ø¨Ø¯ÙŠÙ„</p>
        </div>

        <div class="tasks-list">
            <h4>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© (7)</h4>
            <div class="task-item">ğŸ§¸ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ù„Ø¹Ø¨</div>
            <div class="task-item">ğŸ¥— ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø£ÙƒÙ„</div>
            <div class="task-item">â³ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙÙŠ Ø§Ù„Ø¯ÙˆØ± Ø¹Ù†Ø¯Ù…Ø§ ÙŠØªØ­Ø¯Ø«ÙˆÙ†</div>
            <div class="task-item">ğŸ—£ï¸ Ø£Ù† ÙŠØ·Ù„Ø¨ ÙˆÙ„Ø§ ÙŠØµØ±Ø® ÙˆÙŠØ¨ÙƒÙŠ</div>
            <div class="task-item">ğŸ® Ù„Ø¹Ø¨ Ù„Ø¹Ø¨Ø© Ù…Ø´ØªØ±ÙƒØ©</div>
            <div class="task-item">ğŸ“º Ø¥Ø·ÙØ§Ø¡ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯</div>
            <div class="task-item">ğŸ”„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ù‡Ù…Ø© Ø£Ø®Ø±Ù‰</div>
        </div>

        <div class="rewards-list">
            <h4>Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª (4)</h4>
            <div class="reward-item">ğŸ« 5 Ù†Ù‚ - Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©</div>
            <div class="reward-item">ğŸš— 10 Ù†Ù‚ - Ø±Ø­Ù„Ø©</div>
            <div class="reward-item">ğŸ§¸ 15 Ù†Ù‚ - Ù„Ø¹Ø¨Ø© Ù…ÙØ¶Ù„Ø©</div>
            <div class="reward-item">ğŸ“º 20 Ù†Ù‚ - ØªÙ„ÙØ²ÙŠÙˆÙ†</div>
        </div>

        <button onclick="addMiran()">ğŸŒŸ Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ±Ø§Ù† Ù„Ù„Ù†Ø¸Ø§Ù…</button>

        <div id="status"></div>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDHE7FKHJ92rXXfz_3hLX8e9s8lC9g9g9o",
            authDomain: "aba-ai-d74f5.firebaseapp.com",
            projectId: "aba-ai-d74f5",
            storageBucket: "aba-ai-d74f5.firebasestorage.app",
            messagingSenderId: "123456789",
            appId: "1:123456789:web:abcdef123456"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        async function addMiran() {
            const statusDiv = document.getElementById('status');
            statusDiv.style.display = 'block';
            statusDiv.className = 'info';
            statusDiv.textContent = 'Ø¬Ø§Ø±ÙŠ Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ±Ø§Ù† Ù„Ù„Ù†Ø¸Ø§Ù…...';

            const kidId = 'miran';

            try {
                // Check if Ù…ÙŠØ±Ø§Ù† already exists
                const existingDoc = await db.collection('kids').doc(kidId).get();
                if (existingDoc.exists) {
                    statusDiv.className = 'error';
                    statusDiv.textContent = 'Ù…ÙŠØ±Ø§Ù† Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…! ÙŠØ±Ø¬Ù‰ Ø­Ø°ÙÙ‡ Ø£ÙˆÙ„Ø§Ù‹ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.';
                    return;
                }

                // Board layout with all tasks and goals - ALL IN ARABIC
                const boardLayout = {
                    items: [
                        // Bank (piggy bank)
                        {
                            id: 1,
                            type: 'bank',
                            label: 'ØµÙ†Ø¯ÙˆÙ‚ ØªÙˆÙÙŠØ± Ù…ÙŠØ±Ø§Ù†'
                        },
                        // Progress bar
                        {
                            id: 2,
                            type: 'progress',
                            title: 'ØªÙ‚Ø¯Ù…ÙŠ Ø§Ù„ÙŠÙˆÙ…'
                        },
                        // Regular tasks header
                        {
                            id: 3,
                            type: 'header',
                            size: 'medium',
                            text: 'âœ¨ Ù…Ù‡Ø§Ù…ÙŠ âœ¨'
                        },
                        // Task 1
                        {
                            id: 4,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 1,
                                icon: 'ğŸ§¸',
                                title: 'ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ù„Ø¹Ø¨',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Task 2
                        {
                            id: 5,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 2,
                                icon: 'ğŸ¥—',
                                title: 'ØªÙ†ÙˆÙŠØ¹ Ø§Ù„Ø£ÙƒÙ„',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Task 3
                        {
                            id: 6,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 3,
                                icon: 'â³',
                                title: 'Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± ÙÙŠ Ø§Ù„Ø¯ÙˆØ±',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Task 4
                        {
                            id: 7,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 4,
                                icon: 'ğŸ—£ï¸',
                                title: 'Ø£Ø·Ù„Ø¨ ÙˆÙ„Ø§ Ø£ØµØ±Ø®',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Task 5
                        {
                            id: 8,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 5,
                                icon: 'ğŸ®',
                                title: 'Ù„Ø¹Ø¨ Ù„Ø¹Ø¨Ø© Ù…Ø´ØªØ±ÙƒØ©',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Task 6
                        {
                            id: 9,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 6,
                                icon: 'ğŸ“º',
                                title: 'Ø¥Ø·ÙØ§Ø¡ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† ÙÙŠ Ø§Ù„ÙˆÙ‚Øª',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Task 7
                        {
                            id: 10,
                            type: 'task',
                            taskType: 'regular',
                            taskData: {
                                id: 7,
                                icon: 'ğŸ”„',
                                title: 'Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù…Ù‡Ù…Ø© Ø£Ø®Ø±Ù‰',
                                type: 'regular',
                                requiresTestimony: false,
                                trackTime: false,
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Calm down header
                        {
                            id: 11,
                            type: 'header',
                            size: 'medium',
                            text: 'ğŸ§˜ Ø±ÙƒÙ† Ø§Ù„Ù‡Ø¯ÙˆØ¡ ğŸ§˜'
                        },
                        // Calm down - Paint
                        {
                            id: 12,
                            type: 'task',
                            taskType: 'calm-down',
                            taskData: {
                                id: 8,
                                icon: 'ğŸ¨',
                                title: 'Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø³Ù…',
                                type: 'calm-down',
                                activityType: 'paint',
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Calm down - Breathing
                        {
                            id: 13,
                            type: 'task',
                            taskType: 'calm-down',
                            taskData: {
                                id: 9,
                                icon: 'ğŸŒ¬ï¸',
                                title: 'ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ØªÙ†ÙØ³',
                                type: 'calm-down',
                                activityType: 'breathing',
                                activeDays: [0, 1, 2, 3, 4, 5, 6]
                            }
                        },
                        // Goals header
                        {
                            id: 14,
                            type: 'header',
                            size: 'medium',
                            text: 'ğŸ Ø¬ÙˆØ§Ø¦Ø²ÙŠ ğŸ'
                        },
                        // Goal 1 - 5 points
                        {
                            id: 15,
                            type: 'goal',
                            icon: 'ğŸ«',
                            title: 'Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©',
                            pointsRequired: 5
                        },
                        // Goal 2 - 10 points
                        {
                            id: 16,
                            type: 'goal',
                            icon: 'ğŸš—',
                            title: 'Ø±Ø­Ù„Ø©',
                            pointsRequired: 10
                        },
                        // Goal 3 - 15 points
                        {
                            id: 17,
                            type: 'goal',
                            icon: 'ğŸ§¸',
                            title: 'Ù„Ø¹Ø¨Ø© Ù…ÙØ¶Ù„Ø©',
                            pointsRequired: 15
                        },
                        // Goal 4 - 20 points
                        {
                            id: 18,
                            type: 'goal',
                            icon: 'ğŸ“º',
                            title: 'ØªÙ„ÙØ²ÙŠÙˆÙ†',
                            pointsRequired: 20
                        }
                    ]
                };

                // Create tasks array for backward compatibility
                const tasks = boardLayout.items
                    .filter(item => item.type === 'task' && item.taskType === 'regular')
                    .map(item => item.taskData);

                // Create Ù…ÙŠØ±Ø§Ù†'s complete data - ALL IN ARABIC
                const miranData = {
                    name: 'Ù…ÙŠØ±Ø§Ù†',
                    imageName: '',
                    age: 3,
                    gender: 'boy',
                    kidDescription: 'ÙŠØ­Ø¨ Ø§Ù„Ù„Ø¹Ø¨ØŒ Ø§Ù„Ù‚ØµØµØŒ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©ØŒ Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©ØŒ Ø§Ù„Ø£Ø±Ø¬ÙˆØ­Ø©',
                    behaviorGoals: 'ØªØ­Ø³ÙŠÙ† Ø§Ù„ØµØ¨Ø±ØŒ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ù…ØŒ Ø§Ù„Ù…Ø«Ø§Ø¨Ø±Ø©ØŒ Ø§Ù„ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¹Ø§Ø·ÙÙŠØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ù„ÙˆÙƒ Ø¨Ø¯ÙŠÙ„',
                    personalInfo: 'Ø·ÙÙ„ ÙŠØ­ØªØ§Ø¬ Ø­Ø¯ÙˆØ¯ ÙˆÙ…Ø±ÙˆÙ†Ø© ÙÙƒØ±ÙŠØ©',

                    // Board
                    tasks: tasks,
                    boardLayout: boardLayout,

                    // State
                    completedTasks: [],
                    completedBonusTasks: [],
                    bonusRewardsEarned: {},
                    totalMoney: 0,

                    // Rewards
                    dailyReward: 0.5,
                    coinStyle: 'points',
                    coinImageName: '',

                    // Display - ALL LABELS IN ARABIC
                    colorSchema: 'blue',
                    headerLabel: '',
                    savingsLabel: 'Ù†Ù‚Ø§Ø·ÙŠ',
                    regularTasksHeader: 'âœ¨ Ù…Ù‡Ø§Ù…ÙŠ âœ¨',
                    bonusTasksHeader: 'ğŸ’° Ù…Ù‡Ø§Ù… Ø¥Ø¶Ø§ÙÙŠØ© ğŸ’°',
                    calmDownHeader: 'ğŸ§˜ Ø±ÙƒÙ† Ø§Ù„Ù‡Ø¯ÙˆØ¡ ğŸ§˜',

                    // Features
                    showDino: true,
                    soundsEnabled: true,
                    builderPin: '1234',

                    // Language setting for Dino
                    language: 'ar',

                    // Timestamps
                    todayRewardGiven: false,
                    lastResetDate: new Date().toDateString(),
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),

                    // Parent info (for reference)
                    parentInfo: {
                        parentName: '×©×™×¨×™×Ÿ ×× ×¡×•×¨',
                        email: 'shery9009@gmail.com',
                        phone: '0506456000'
                    }
                };

                await db.collection('kids').doc(kidId).set(miranData);

                statusDiv.className = 'success';
                statusDiv.innerHTML = `
                    <strong>Ù†Ø¬Ø§Ø­! ğŸ‰</strong><br>
                    ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ±Ø§Ù† Ù„Ù„Ù†Ø¸Ø§Ù… Ù…Ø¹ ${tasks.length} Ù…Ù‡Ø§Ù… Ùˆ-4 Ø¬ÙˆØ§Ø¦Ø²!<br><br>
                    <a href="board.html?kid=${kidId}" style="color: #5BA3E0; font-weight: bold;">ğŸ’™ Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ Ù„ÙˆØ­Ø© Ù…ÙŠØ±Ø§Ù†</a><br><br>
                    <a href="board-builder.html?kid=${kidId}" style="color: #667eea; font-weight: bold;">ğŸ› ï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù„ÙˆØ­Ø©</a><br><br>
                `;

            } catch (error) {
                console.error('Error adding Ù…ÙŠØ±Ø§Ù†:', error);
                statusDiv.className = 'error';
                statusDiv.innerHTML = `
                    <strong>Ø®Ø·Ø£!</strong><br>
                    ${error.message}<br><br>
                    <small>ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯ Firestore ÙÙŠ Ù…Ø´Ø±ÙˆØ¹ Firebase Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.</small>
                `;
            }
        }
    </script>
</body>
</html>
